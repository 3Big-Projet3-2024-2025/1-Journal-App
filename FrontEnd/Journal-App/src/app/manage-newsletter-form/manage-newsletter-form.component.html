<div class="form-section">
  <div class="form-card">
    <h2>{{ isEditing ? 'Update Newsletter' : 'Create Newsletter' }}</h2>

    <div *ngIf="successMessage" class="alert alert-success">
      {{ successMessage }}
    </div>
    <form (ngSubmit)="onSubmit()">
      <!-- Onglets -->
      <div class="tabs">
        <button
          type="button"
          class="tab-button"
          [ngClass]="{ active: activeTab === 'title-settings' }"
          (click)="setActiveTab('title-settings')"
        >
          Title Settings
        </button>
        <button
          type="button"
          class="tab-button"
          [ngClass]="{ active: activeTab === 'subtitle-settings' }"
          (click)="setActiveTab('subtitle-settings')"
        >
          Subtitle Settings
        </button>
        <button
          type="button"
          class="tab-button"
          [ngClass]="{ active: activeTab === 'background-settings' }"
          (click)="setActiveTab('background-settings')"
        >
          Background
        </button>
      </div>
      <br>

      <!-- Contenu de l'onglet Title Settings -->
      <div [hidden]="activeTab !== 'title-settings'" class="tab-content">
        <div class="form-group">
          <label for="title">Title</label>
          <input type="text" id="title" name="title" [(ngModel)]="formData.title" required />
        </div>
        <div class="form-group">
          <label for="titleFont">Font</label>
          <select id="titleFont" name="titleFont" [(ngModel)]="formData.titleFont">
            <option>Arial</option>
            <option>Verdana</option>
          </select>
        </div>
        <div class="form-group">
          <label for="titleFontSize">Font Size</label>
          <input type="number" id="titleFontSize" name="titleFontSize" [(ngModel)]="formData.titleFontSize" />
        </div>
        <div class="form-group">
          <label for="titleColor">Color</label>
          <input type="color" id="titleColor" name="titleColor" [(ngModel)]="formData.titleColor" />
        </div>
        <div class="form-group">
          <label>
            <input type="checkbox" name="titleBold" [(ngModel)]="formData.titleBold" /> Bold
          </label>
          <label>
            <input type="checkbox" name="titleUnderline" [(ngModel)]="formData.titleUnderline" /> Underline
          </label>
        </div>
        <!-- Bouton pour aller à l'onglet suivant -->
        <button type="button" (click)="setActiveTab('subtitle-settings')">
          Next &rarr;
        </button>
      </div>

      <!-- Contenu de l'onglet Subtitle Settings -->
      <div [hidden]="activeTab !== 'subtitle-settings'" class="tab-content">
        <div class="form-group">
          <label for="subtitle">Subtitle</label>
          <input type="text" id="subtitle" name="subtitle" [(ngModel)]="formData.subtitle" required />
        </div>
        <div class="form-group">
          <label for="subtitleFont">Font</label>
          <select id="subtitleFont" name="subtitleFont" [(ngModel)]="formData.subtitleFont">
            <option>Arial</option>
            <option>Verdana</option>
          </select>
        </div>
        <div class="form-group">
          <label for="subtitleFontSize">Font Size</label>
          <input type="number" id="subtitleFontSize" name="subtitleFontSize" [(ngModel)]="formData.subtitleFontSize" />
        </div>
        <div class="form-group">
          <label for="subtitleColor">Color</label>
          <input type="color" id="subtitleColor" name="subtitleColor" [(ngModel)]="formData.subtitleColor" />
        </div>
        <div class="form-group">
          <label>
            <input type="checkbox" name="subtitleBold" [(ngModel)]="formData.subtitleBold" /> Bold
          </label>
          <label>
            <input type="checkbox" name="subtitleItalic" [(ngModel)]="formData.subtitleItalic" /> Italic
          </label>
        </div>
        <!-- Bouton pour aller à l'onglet suivant -->
        <button type="button" (click)="setActiveTab('background-settings')">
          Next &rarr;
        </button>
      </div>

      <!-- Contenu de l'onglet Background -->
      <div [hidden]="activeTab !== 'background-settings'" class="tab-content">
        <div class="form-group">
          <label for="backgroundColor">Background Color</label>
          <input type="color" id="backgroundColor" name="backgroundColor" [(ngModel)]="formData.backgroundColor" />
        </div>
        <div class="form-group">
          <label for="textAlign">Text Alignment</label>
          <select id="textAlign" name="textAlign" [(ngModel)]="formData.textAlign">
            <option value="left">Left</option>
            <option value="center">Center</option>
            <option value="right">Right</option>
          </select>
        </div>
        <!-- Ici, on n'affiche pas "Next" mais le bouton de soumission du formulaire -->
        <button type="submit">{{ isEditing ? 'Confirm Changes' : 'Create Newsletter' }}</button>
      </div>
    </form>
    <br><br>
    <!-- Back Button -->
    <button class="backbutton" (click)="goBack()">Back to list of Newsletters</button>
  </div>
</div>
